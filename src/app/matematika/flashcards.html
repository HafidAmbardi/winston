"use client"; import { useState } from "react"; import { ArrowRight } from
"lucide-react"; import WinstonSidebar from "@/app/components/sidebar"; import
WinstonHeader from "@/app/components/header"; import PromptInput from
"@/app/components/prompt_input"; import RegularCourseMaterial from
"@/app/components/regular_course_material"; import AudioButton from
"@/app/components/audio_button"; import TextButton from
"@/app/components/text_button"; import StudyPlanButton from
"@/app/components/study_plan_button"; import QuizList from
"@/app/components/quiz"; import FlashCardMath from
"@/app/components/flashcards_math"; import MaterialSection from
"@/app/components/material_section"; import Image from "next/image"; export
default function IntegralPage() { const [activeOption, setActiveOption] =
useState<"audio" | "text" | "study" | null>(null); // Handle audio selection
const handleAudioSelect = () => { setActiveOption(activeOption === "audio" ?
null : "audio"); console.log("Audio option selected"); }; // Handle text
selection const handleTextSelect = () => { setActiveOption(activeOption ===
"text" ? null : "text"); console.log("Text option selected"); }; // Handle study
plan selection const handleStudyPlanSelect = () => {
setActiveOption(activeOption === "study" ? null : "study"); console.log("Study
plan option selected"); }; // Handle read full text const handleReadFullText =
(id: string) => { console.log(`Reading full text for course ${id}`); }; //
Handle quiz selection const handleQuizSelect = (quizId: string) => {
console.log(`Quiz ${quizId} selected`); }; // Quiz data const quizzes = [ { id:
"1", title: "Integral Dasar", description: "50 soal tersedia" }, { id: "2",
title: "Kalkulus Terapan", description: "50 soal tersedia" }, { id: "3", title:
"Integral Tentu", description: "50 soal tersedia" }, { id: "4", title: "Integral
Tak Tentu", description: "50 soal tersedia" }, { id: "5", title: "Integral
Lanjutan", description: "50 soal tersedia" }, ]; return (
<div className="flex h-screen">
  {/* Sidebar */}
  <WinstonSidebar />

  {/* Main Content Area */}
  <div className="flex flex-col flex-1 overflow-hidden">
    <WinstonHeader />

    {/* Page Content */}
    <main className="flex-1 overflow-auto p-6">
      <div className="max-w-6xl mx-auto">
        {/* Prompt Input */}
        <div className="mb-8">
          <PromptInput
            showButtons="{false}"
            title="Masih belum mengerti? Tulis prompt pertanyaan disini"
            subtitle=""
            placeholder="Tulis pernyataanmu......"
          />
        </div>

        {/* Main Content with Sidebar Layout */}
        <div className="flex flex-col lg:flex-row gap-6">
          {/* Main Content */}
          <div className="lg:w-2/3">
            {/* Title */}
            <h1 className="text-2xl font-bold mb-1">Introduksi Integral</h1>
            <p className="text-gray-600 mb-4">Kalkulus & Analisis Matematika</p>

            {/* Action Buttons */}
            <div className="flex flex-wrap gap-2 mb-6">
              <AudioButton isActive={activeOption === "audio"}
              onClick={handleAudioSelect} label="Dengarkan Penjelasan" />
              <TextButton isActive={activeOption === "text"}
              onClick={handleTextSelect} label="Ringkasan Teks" />
              <StudyPlanButton isActive={activeOption === "study"}
              onClick={handleStudyPlanSelect} label="Flashcards" />
            </div>

            {/* Flashcard (shown when study option is active) */} {activeOption
            === "study" && (
            <div className="mb-8">
              <FlashCardMath
                questionNumber="1"
                marks="{5}"
                question="Hitunglah integral berikut:"
                latexExpression="∫ x² dx"
              />
            </div>
            )} {/* What is Integral Section - Using MaterialSection */}
            <div className="mb-6">
              <h2 className="text-lg font-medium mb-4">Apa itu Integral?</h2>
              <MaterialSection summaryPoints={[ "Integrasi merupakan kebalikan
              dari diferensiasi", "Integrasi disebut sebagai antidiferensiasi",
              "Hasil integrasi disebut sebagai antiturunan" ]}
              detailedExplanation="Integral tak tentu dari suatu fungsi f,
              dinotasikan sebagai ∫f(x)dx, merupakan fungsi F sedemikian hingga
              F′(x) = f(x). Ini adalah kebalikan dari diferensiasi, yang
              merupakan operasi untuk menemukan turunan dari suatu fungsi." />
            </div>

            {/* Formula Section */}
            <div className="mb-6">
              <h2 className="text-lg font-medium mb-4">Formula Integral</h2>
              <div
                className="bg-white rounded-lg border border-gray-200 p-6 flex justify-center"
              >
                <image
                  src="/placeholder.svg?height=100&width=300"
                  alt="Integral formula"
                  width="{300}"
                  height="{100}"
                  className="object-contain"
                />
              </div>

              {/* Formula explanation - Using MaterialSection */}
              <div className="mt-4">
                <MaterialSection summaryPoints={[ "∫ xⁿ dx = (xⁿ⁺¹)/(n+1) + C,
                untuk n ≠ -1", "∫ eˣ dx = eˣ + C", "∫ sin(x) dx = -cos(x) + C"
                ]} detailedExplanation="Formula dasar integral melibatkan
                aturan-aturan seperti integral fungsi konstan, integral x
                pangkat n, integral fungsi eksponensial, dan integral fungsi
                trigonometri. Aturan-aturan ini membantu kita menyelesaikan
                integral dari berbagai jenis fungsi." buttonText="Lihat
                Penjelasan" />
              </div>
            </div>

            {/* Constants Section - Using MaterialSection */}
            <div className="mb-6">
              <h2 className="text-lg font-medium mb-4">
                Apa konstanta integrasi?
              </h2>
              <MaterialSection summaryPoints={[ "Konstanta integrasi
              dilambangkan dengan C", "Merupakan nilai konstan yang ditambahkan
              saat integrasi", "Nilai C dapat ditemukan dengan mensubstitusi
              kondisi awal" ]} detailedExplanation={
              <div>
                <p>
                  Konstanta integrasi (C) adalah konstanta yang muncul dalam
                  hasil integral tak tentu. Ini diperlukan karena turunan dari
                  fungsi yang berbeda sebesar konstanta adalah sama.
                </p>
                <p className="mt-2">
                  Contoh: F(x) = x² + 3 dan G(x) = x² + 5 memiliki turunan yang
                  sama: F'(x) = G'(x) = 2x.
                </p>
              </div>
              } />
            </div>

            {/* Continue Button */}
            <div className="mt-8">
              <button
                className="w-full bg-amber-600 hover:bg-amber-700 text-white py-3 rounded-lg flex items-center justify-center gap-2"
              >
                <span>Lanjutkan</span>
                <ArrowRight className="w-5 h-5" />
              </button>
            </div>
          </div>

          {/* Right Sidebar */}
          <div className="lg:w-1/3 space-y-6">
            {/* Practice Exercises using QuizList component */}
            <div>
              <QuizList
                title="Latihan langsung!"
                quizzes="{quizzes}"
                onSelectQuiz="{handleQuizSelect}"
              />
            </div>

            {/* Recommendations */}
            <div>
              <h2 className="text-xl font-bold mb-4">
                Top rekomendasi untukmu!
              </h2>

              <RegularCourseMaterial
                id="integral-dasar"
                title="Latihan Integral Dasar Rp 50.000,00"
                imageSrc="/placeholder.svg?height=200&width=400"
                onReadFullText="{handleReadFullText}"
                onAudioSelect="{handleAudioSelect}"
                onTextSelect="{handleTextSelect}"
              />
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
); }
